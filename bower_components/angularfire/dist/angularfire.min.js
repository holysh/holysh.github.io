!function(e){"use strict";angular.module("firebase",[]).value("Firebase",e.Firebase)}(window),function(){"use strict";angular.module("firebase").factory("$firebaseArray",["$log","$firebaseUtils","$q",function(e,t,n){function r(e){if(!(this instanceof r))return new r(e);var n=this;return this._observers=[],this.$list=[],this._ref=e,this._sync=new i(this),t.assertValidRef(e,"Must pass a valid Firebase reference to $firebaseArray (not a string or URL)"),this._indexCache={},t.getPublicMethods(n,function(e,t){n.$list[t]=e.bind(n)}),this._sync.init(this.$list),this.$list}function i(r){function i(e){if(!g.isDestroyed){g.isDestroyed=!0;var t=r.$ref();t.off("child_added",c),t.off("child_moved",h),t.off("child_changed",f),t.off("child_removed",l),r=null,p(e||"destroyed")}}function o(t){var n=r.$ref();n.on("child_added",c,$),n.on("child_moved",h,$),n.on("child_changed",f,$),n.on("child_removed",l,$),n.once("value",function(n){angular.isArray(n.val())&&e.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://firebase.google.com/docs/database/web/structure-data for more information."),p(null,t)},p)}function s(e,t){y||(y=!0,e?u.reject(e):u.resolve(t))}function a(e,t){var r=n.when(e);r.then(function(e){e&&t(e)}),y||d.push(r)}var u=n.defer(),c=function(e,t){r&&a(r.$$added(e,t),function(e){r.$$process("child_added",e,t)})},f=function(e){if(r){var t=r.$getRecord(e.key);t&&a(r.$$updated(e),function(){r.$$process("child_changed",t)})}},h=function(e,t){if(r){var n=r.$getRecord(e.key);n&&a(r.$$moved(e,t),function(){r.$$process("child_moved",n,t)})}},l=function(e){if(r){var t=r.$getRecord(e.key);t&&a(r.$$removed(e),function(){r.$$process("child_removed",t)})}},d=[],y=!1,$=t.batch(function(e){s(e),r&&r.$$error(e)}),p=t.batch(s),g={destroy:i,isDestroyed:!1,init:o,ready:function(){return u.promise.then(function(e){return n.all(d).then(function(){return e})})}};return g}return r.prototype={$add:function(e){this._assertNotDestroyed("$add");var r,i=this,o=n.defer(),s=this.$ref().ref.push();try{r=t.toJSON(e)}catch(e){o.reject(e)}return"undefined"!=typeof r&&t.doSet(s,r).then(function(){i.$$notify("child_added",s.key),o.resolve(s)}).catch(o.reject),o.promise},$save:function(e){this._assertNotDestroyed("$save");var r=this,i=r._resolveItem(e),o=r.$keyAt(i),s=n.defer();if(null!==o){var a,u=r.$ref().ref.child(o);try{a=t.toJSON(i)}catch(e){s.reject(e)}"undefined"!=typeof a&&t.doSet(u,a).then(function(){r.$$notify("child_changed",o),s.resolve(u)}).catch(s.reject)}else s.reject("Invalid record; could not determine key for "+e);return s.promise},$remove:function(e){this._assertNotDestroyed("$remove");var r=this.$keyAt(e);if(null!==r){var i=this.$ref().ref.child(r);return t.doRemove(i).then(function(){return i})}return n.reject("Invalid record; could not determine key for "+e)},$keyAt:function(e){var t=this._resolveItem(e);return this.$$getKey(t)},$indexFor:function(e){var t=this,n=t._indexCache;if(!n.hasOwnProperty(e)||t.$keyAt(n[e])!==e){var r=t.$list.findIndex(function(n){return t.$$getKey(n)===e});-1!==r&&(n[e]=r)}return n.hasOwnProperty(e)?n[e]:-1},$loaded:function(e,t){var n=this._sync.ready();return arguments.length&&(n=n.then.call(n,e,t)),n},$ref:function(){return this._ref},$watch:function(e,t){var n=this._observers;return n.push([e,t]),function(){var r=n.findIndex(function(n){return n[0]===e&&n[1]===t});r>-1&&n.splice(r,1)}},$destroy:function(e){this._isDestroyed||(this._isDestroyed=!0,this._sync.destroy(e),this.$list.length=0)},$getRecord:function(e){var t=this.$indexFor(e);return t>-1?this.$list[t]:null},$$added:function(e){var n=this.$indexFor(e.key);if(-1===n){var r=e.val();return angular.isObject(r)||(r={$value:r}),r.$id=e.key,r.$priority=e.getPriority(),t.applyDefaults(r,this.$$defaults),r}return!1},$$removed:function(e){return this.$indexFor(e.key)>-1},$$updated:function(e){var n=!1,r=this.$getRecord(e.key);return angular.isObject(r)&&(n=t.updateRec(r,e),t.applyDefaults(r,this.$$defaults)),n},$$moved:function(e){var t=this.$getRecord(e.key);return!!angular.isObject(t)&&(t.$priority=e.getPriority(),!0)},$$error:function(t){e.error(t),this.$destroy(t)},$$getKey:function(e){return angular.isObject(e)?e.$id:null},$$process:function(e,t,n){var r,i=this.$$getKey(t),o=!1;switch(e){case"child_added":r=this.$indexFor(i);break;case"child_moved":r=this.$indexFor(i),this._spliceOut(i);break;case"child_removed":o=null!==this._spliceOut(i);break;case"child_changed":o=!0;break;default:throw new Error("Invalid event type: "+e)}return angular.isDefined(r)&&(o=this._addAfter(t,n)!==r),o&&this.$$notify(e,i,n),o},$$notify:function(e,t,n){var r={event:e,key:t};angular.isDefined(n)&&(r.prevChild=n),angular.forEach(this._observers,function(e){e[0].call(e[1],r)})},_addAfter:function(e,t){var n;return null===t?n=0:(n=this.$indexFor(t)+1,0===n&&(n=this.$list.length)),this.$list.splice(n,0,e),this._indexCache[this.$$getKey(e)]=n,n},_spliceOut:function(e){var t=this.$indexFor(e);return t>-1?(delete this._indexCache[e],this.$list.splice(t,1)[0]):null},_resolveItem:function(e){var t=this.$list;if(angular.isNumber(e)&&e>=0&&t.length>=e)return t[e];if(angular.isObject(e)){var n=this.$$getKey(e),r=this.$getRecord(n);return r===e?r:null}return null},_assertNotDestroyed:function(e){if(this._isDestroyed)throw new Error("Cannot call "+e+" method on a destroyed $firebaseArray object")}},r.$extend=function(e,n){return 1===arguments.length&&angular.isObject(e)&&(n=e,e=function(t){return this instanceof e?(r.apply(this,arguments),this.$list):new e(t)}),t.inherit(e,r,n)},r}]),angular.module("firebase").factory("$FirebaseArray",["$log","$firebaseArray",function(e,t){return function(){return e.warn("$FirebaseArray has been renamed. Use $firebaseArray instead."),t.apply(null,arguments)}}])}(),function(){"use strict";var e;angular.module("firebase").factory("$firebaseAuth",["$q","$firebaseUtils",function(t,n){return function(r){r=r||firebase.auth();var i=new e(t,n,r);return i.construct()}}]),e=function(e,t,n){if(this._q=e,this._utils=t,"string"==typeof n)throw new Error("The $firebaseAuth service accepts a Firebase auth instance (or nothing) instead of a URL.");if("undefined"!=typeof n.ref)throw new Error("The $firebaseAuth service accepts a Firebase auth instance (or nothing) instead of a Database reference.");this._auth=n,this._initialAuthResolver=this._initAuthResolver()},e.prototype={construct:function(){return this._object={$signInWithCustomToken:this.signInWithCustomToken.bind(this),$signInAnonymously:this.signInAnonymously.bind(this),$signInWithEmailAndPassword:this.signInWithEmailAndPassword.bind(this),$signInWithPopup:this.signInWithPopup.bind(this),$signInWithRedirect:this.signInWithRedirect.bind(this),$signInWithCredential:this.signInWithCredential.bind(this),$signOut:this.signOut.bind(this),$onAuthStateChanged:this.onAuthStateChanged.bind(this),$getAuth:this.getAuth.bind(this),$requireSignIn:this.requireSignIn.bind(this),$waitForSignIn:this.waitForSignIn.bind(this),$createUserWithEmailAndPassword:this.createUserWithEmailAndPassword.bind(this),$updatePassword:this.updatePassword.bind(this),$updateEmail:this.updateEmail.bind(this),$deleteUser:this.deleteUser.bind(this),$sendPasswordResetEmail:this.sendPasswordResetEmail.bind(this),_:this},this._object},signInWithCustomToken:function(e){return this._q.when(this._auth.signInWithCustomToken(e))},signInAnonymously:function(){return this._q.when(this._auth.signInAnonymously())},signInWithEmailAndPassword:function(e,t){return this._q.when(this._auth.signInWithEmailAndPassword(e,t))},signInWithPopup:function(e){return this._q.when(this._auth.signInWithPopup(this._getProvider(e)))},signInWithRedirect:function(e){return this._q.when(this._auth.signInWithRedirect(this._getProvider(e)))},signInWithCredential:function(e){return this._q.when(this._auth.signInWithCredential(e))},signOut:function(){null!==this.getAuth()&&this._auth.signOut()},onAuthStateChanged:function(e,t){var n=this._utils.debounce(e,t,0),r=this._auth.onAuthStateChanged(n);return r},getAuth:function(){return this._auth.currentUser},_routerMethodOnAuthPromise:function(e){var t=this;return this._initialAuthResolver.then(function(){var n=t.getAuth(),r=null;return r=e&&null===n?t._q.reject("AUTH_REQUIRED"):t._q.when(n)})},_getProvider:function(e){var t;if("string"==typeof e){var n=e.slice(0,1).toUpperCase()+e.slice(1);t=new firebase.auth[n+"AuthProvider"]}else t=e;return t},_initAuthResolver:function(){var e=this._auth;return this._q(function(t){function n(){r(),t()}var r;r=e.onAuthStateChanged(n)})},requireSignIn:function(){return this._routerMethodOnAuthPromise(!0)},waitForSignIn:function(){return this._routerMethodOnAuthPromise(!1)},createUserWithEmailAndPassword:function(e,t){return this._q.when(this._auth.createUserWithEmailAndPassword(e,t))},updatePassword:function(e){var t=this.getAuth();return t?this._q.when(t.updatePassword(e)):this._q.reject("Cannot update password since there is no logged in user.")},updateEmail:function(e){var t=this.getAuth();return t?this._q.when(t.updateEmail(e)):this._q.reject("Cannot update email since there is no logged in user.")},deleteUser:function(){var e=this.getAuth();return e?this._q.when(e.delete()):this._q.reject("Cannot delete user since there is no logged in user.")},sendPasswordResetEmail:function(e){return this._q.when(this._auth.sendPasswordResetEmail(e))}}}(),function(){"use strict";angular.module("firebase").factory("$firebaseObject",["$parse","$firebaseUtils","$log","$q",function(e,t,n,r){function i(e){return this instanceof i?(this.$$conf={sync:new s(this,e),ref:e,binding:new o(this),listeners:[]},Object.defineProperty(this,"$$conf",{value:this.$$conf}),this.$id=e.ref.key,this.$priority=null,t.applyDefaults(this,this.$$defaults),void this.$$conf.sync.init()):new i(e)}function o(e){this.subs=[],this.scope=null,this.key=null,this.rec=e}function s(e,i){function o(t){d.isDestroyed||(d.isDestroyed=!0,i.off("value",f),e=null,l(t||"destroyed"))}function s(){i.on("value",f,h),i.once("value",function(e){angular.isArray(e.val())&&n.warn("Storing data using array indices in Firebase can result in unexpected behavior. See https://firebase.google.com/docs/database/web/structure-data for more information. Also note that you probably wanted $firebaseArray and not $firebaseObject."),l(null)},l)}function a(t){u||(u=!0,t?c.reject(t):c.resolve(e))}var u=!1,c=r.defer(),f=t.batch(function(t){var n=e.$$updated(t);n&&e.$$notify()}),h=t.batch(function(t){a(t),e&&e.$$error(t)}),l=t.batch(a),d={isDestroyed:!1,destroy:o,init:s,ready:function(){return c.promise}};return d}return i.prototype={$save:function(){var e,n=this,i=n.$ref(),o=r.defer();try{e=t.toJSON(n)}catch(e){o.reject(e)}return"undefined"!=typeof e&&t.doSet(i,e).then(function(){n.$$notify(),o.resolve(n.$ref())}).catch(o.reject),o.promise},$remove:function(){var e=this;return t.trimKeys(e,{}),e.$value=null,t.doRemove(e.$ref()).then(function(){return e.$$notify(),e.$ref()})},$loaded:function(e,t){var n=this.$$conf.sync.ready();return arguments.length&&(n=n.then.call(n,e,t)),n},$ref:function(){return this.$$conf.ref},$bindTo:function(e,t){var n=this;return n.$loaded().then(function(){return n.$$conf.binding.bindTo(e,t)})},$watch:function(e,t){var n=this.$$conf.listeners;return n.push([e,t]),function(){var r=n.findIndex(function(n){return n[0]===e&&n[1]===t});r>-1&&n.splice(r,1)}},$destroy:function(e){var n=this;n.$isDestroyed||(n.$isDestroyed=!0,n.$$conf.sync.destroy(e),n.$$conf.binding.destroy(),t.each(n,function(e,t){delete n[t]}))},$$updated:function(e){var n=t.updateRec(this,e);return t.applyDefaults(this,this.$$defaults),n},$$error:function(e){n.error(e),this.$destroy(e)},$$scopeUpdated:function(e){var n=r.defer();return this.$ref().set(t.toJSON(e),t.makeNodeResolver(n)),n.promise},$$notify:function(){var e=this,t=this.$$conf.listeners.slice();angular.forEach(t,function(t){t[0].call(t[1],{event:"value",key:e.$id})})},forEach:function(e,n){return t.each(this,e,n)}},i.$extend=function(e,n){return 1===arguments.length&&angular.isObject(e)&&(n=e,e=function(t){return this instanceof e?void i.apply(this,arguments):new e(t)}),t.inherit(e,i,n)},o.prototype={assertNotBound:function(e){if(this.scope){var t="Cannot bind to "+e+" because this instance is already bound to "+this.key+"; one binding per instance (call unbind method or create another FirebaseObject instance)";return n.error(t),r.reject(t)}},bindTo:function(n,r){function i(i){function o(e){return angular.equals(e,f)&&e.$priority===f.$priority&&e.$value===f.$value}function s(e){c.assign(n,t.scopeData(e))}function a(){var e=c(n);return[e,e.$priority,e.$value]}var u=!1,c=e(r),f=i.rec;i.scope=n,i.varName=r;var h=t.debounce(function(e){var r=t.scopeData(e);f.$$scopeUpdated(r).finally(function(){u=!1,r.hasOwnProperty("$value")||(delete f.$value,delete c(n).$value),s(f)})},50,500),l=function(e){e=e[0],o(e)||(u=!0,h(e))},d=function(){u||o(c(n))||s(f)};return s(f),i.subs.push(n.$on("$destroy",i.unbind.bind(i))),i.subs.push(n.$watch(a,l,!0)),i.subs.push(f.$watch(d)),i.unbind.bind(i)}return this.assertNotBound(r)||i(this)},unbind:function(){this.scope&&(angular.forEach(this.subs,function(e){e()}),this.subs=[],this.scope=null,this.key=null)},destroy:function(){this.unbind(),this.rec=null}},i}]),angular.module("firebase").factory("$FirebaseObject",["$log","$firebaseObject",function(e,t){return function(){return e.warn("$FirebaseObject has been renamed. Use $firebaseObject instead."),t.apply(null,arguments)}}])}(),function(){"use strict";angular.module("firebase").factory("$firebase",function(){return function(){throw new Error("$firebase has been removed. You may instantiate $firebaseArray and $firebaseObject directly now. For simple write operations, just use the Firebase ref directly. See the AngularFire 1.0.0 changelog for details: https://github.com/firebase/angularfire/releases/tag/v1.0.0")}})}(),function(){"use strict";function e(e){return e()}e.$inject=["$firebaseAuth","$firebaseRef"],angular.module("firebase").factory("$firebaseAuthService",e)}(),function(){"use strict";function e(){this.urls=null,this.registerUrl=function(e){"string"==typeof e&&(this.urls={},this.urls.default=e),angular.isObject(e)&&(this.urls=e)},this.$$checkUrls=function(e){return e?e.default?void 0:new Error('No default Firebase URL registered. Use firebaseRefProvider.registerUrl({ default: "https://<my-firebase-app>.firebaseio.com/"}).'):new Error("No Firebase URL registered. Use firebaseRefProvider.registerUrl() in the config phase. This is required if you are using $firebaseAuthService.")},this.$$createRefsFromUrlConfig=function(e){var t={},n=this.$$checkUrls(e);if(n)throw n;return angular.forEach(e,function(e,n){t[n]=firebase.database().refFromURL(e)}),t},this.$get=function(){return this.$$createRefsFromUrlConfig(this.urls)}}angular.module("firebase").provider("$firebaseRef",e)}(),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){if(void 0===this||null===this)throw new TypeError("'this' is null or not defined");var n=this.length>>>0;for(t=+t||0,Math.abs(t)===1/0&&(t=0),0>t&&(t+=n,0>t&&(t=0));n>t;t++)if(this[t]===e)return t;return-1}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),r=n.length>>>0,i=arguments[1],o=0;r>o;o++)if(o in n&&(t=n[o],e.call(i,t,o,n)))return o;return-1}}),"function"!=typeof Object.create&&!function(){var e=function(){};Object.create=function(t){if(arguments.length>1)throw new Error("Second argument not supported");if(null===t)throw new Error("Cannot set a null [[Prototype]]");if("object"!=typeof t)throw new TypeError("Argument must be an object");return e.prototype=t,new e}}(),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,s,a=[];for(o in i)e.call(i,o)&&a.push(o);if(t)for(s=0;r>s;s++)e.call(i,n[s])&&a.push(n[s]);return a}}()),"function"!=typeof Object.getPrototypeOf&&("object"==typeof"test".__proto__?Object.getPrototypeOf=function(e){return e.__proto__}:Object.getPrototypeOf=function(e){return e.constructor.prototype}),function(){"use strict";function e(t){if(!angular.isObject(t))return t;var n=angular.isArray(t)?[]:{};return angular.forEach(t,function(t,r){"string"==typeof r&&"$"===r.charAt(0)||(n[r]=e(t))}),n}angular.module("firebase").factory("$firebaseConfig",["$firebaseArray","$firebaseObject","$injector",function(e,t,n){return function(r){var i=angular.extend({},r);return"string"==typeof i.objectFactory&&(i.objectFactory=n.get(i.objectFactory)),"string"==typeof i.arrayFactory&&(i.arrayFactory=n.get(i.arrayFactory)),angular.extend({arrayFactory:e,objectFactory:t},i)}}]).factory("$firebaseUtils",["$q","$timeout","$rootScope",function(t,n,r){var i={batch:function(e,t){return function(){var n=Array.prototype.slice.call(arguments,0);i.compile(function(){e.apply(t,n)})}},debounce:function(e,t,n,r){function o(){c&&(c(),c=null),u&&Date.now()-u>r?h||(h=!0,i.compile(s)):(u||(u=Date.now()),c=i.wait(s,n))}function s(){c=null,u=null,h=!1,e.apply(t,f)}function a(){f=Array.prototype.slice.call(arguments,0),o()}var u,c,f,h;if("number"==typeof t&&(r=n,n=t,t=null),"number"!=typeof n)throw new Error("Must provide a valid integer for wait. Try 0 for a default");if("function"!=typeof e)throw new Error("Must provide a valid function to debounce");return r||(r=10*n||100),a.running=function(){return u>0},a},assertValidRef:function(e,t){if(!angular.isObject(e)||"object"!=typeof e.ref||"function"!=typeof e.ref.transaction)throw new Error(t||"Invalid Firebase reference")},inherit:function(e,t,n){var r=e.prototype;return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,angular.forEach(Object.keys(r),function(t){e.prototype[t]=r[t]}),angular.isObject(n)&&angular.extend(e.prototype,n),e},getPrototypeMethods:function(e,t,n){for(var r={},i=Object.getPrototypeOf({}),o=angular.isFunction(e)&&angular.isObject(e.prototype)?e.prototype:Object.getPrototypeOf(e);o&&o!==i;){for(var s in o)o.hasOwnProperty(s)&&!r.hasOwnProperty(s)&&(r[s]=!0,t.call(n,o[s],s,o));o=Object.getPrototypeOf(o)}},getPublicMethods:function(e,t,n){i.getPrototypeMethods(e,function(e,r){"function"==typeof e&&"_"!==r.charAt(0)&&t.call(n,e,r)})},makeNodeResolver:function(e){return function(t,n){null===t?(arguments.length>2&&(n=Array.prototype.slice.call(arguments,1)),e.resolve(n)):e.reject(t)}},wait:function(e,t){var r=n(e,t||0);return function(){r&&(n.cancel(r),r=null)}},compile:function(e){return r.$evalAsync(e||function(){})},deepCopy:function(e){if(!angular.isObject(e))return e;var t=angular.isArray(e)?e.slice():angular.extend({},e);for(var n in t)t.hasOwnProperty(n)&&angular.isObject(t[n])&&(t[n]=i.deepCopy(t[n]));return t},trimKeys:function(e,t){i.each(e,function(n,r){t.hasOwnProperty(r)||delete e[r]})},scopeData:function(e){var t={$id:e.$id,$priority:e.$priority},n=!1;return i.each(e,function(e,r){n=!0,t[r]=i.deepCopy(e)}),!n&&e.hasOwnProperty("$value")&&(t.$value=e.$value),t},updateRec:function(e,t){var n=t.val(),r=angular.extend({},e);return angular.isObject(n)?delete e.$value:(e.$value=n,n={}),i.trimKeys(e,n),angular.extend(e,n),e.$priority=t.getPriority(),!angular.equals(r,e)||r.$value!==e.$value||r.$priority!==e.$priority},applyDefaults:function(e,t){return angular.isObject(t)&&angular.forEach(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)}),e},dataKeys:function(e){var t=[];return i.each(e,function(e,n){t.push(n)}),t},each:function(e,t,n){if(angular.isObject(e)){for(var r in e)if(e.hasOwnProperty(r)){var i=r.charAt(0);"_"!==i&&"$"!==i&&"."!==i&&t.call(n,e[r],r,e)}}else if(angular.isArray(e))for(var o=0,s=e.length;s>o;o++)t.call(n,e[o],o,e);return e},toJSON:function(t){var n;return angular.isObject(t)||(t={$value:t}),angular.isFunction(t.toJSON)?n=t.toJSON():(n={},i.each(t,function(t,r){n[r]=e(t)})),angular.isDefined(t.$value)&&0===Object.keys(n).length&&null!==t.$value&&(n[".value"]=t.$value),angular.isDefined(t.$priority)&&Object.keys(n).length>0&&null!==t.$priority&&(n[".priority"]=t.$priority),angular.forEach(n,function(e,t){if(t.match(/[.$\[\]#\/]/)&&".value"!==t&&".priority"!==t)throw new Error("Invalid key "+t+" (cannot contain .$[]#/)");if(angular.isUndefined(e))throw new Error("Key "+t+" was undefined. Cannot pass undefined in JSON. Use null instead.")}),n},doSet:function(e,n){var r=t.defer();if(angular.isFunction(e.set)||!angular.isObject(n))try{e.set(n,i.makeNodeResolver(r))}catch(e){r.reject(e)}else{var o=angular.extend({},n);e.once("value",function(t){t.forEach(function(e){o.hasOwnProperty(e.key)||(o[e.key]=null)}),e.ref.update(o,i.makeNodeResolver(r))},function(e){r.reject(e)})}return r.promise},doRemove:function(e){var n=t.defer();return angular.isFunction(e.remove)?e.remove(i.makeNodeResolver(n)):e.once("value",function(t){var r=[];t.forEach(function(e){r.push(e.ref.remove())}),i.allPromises(r).then(function(){n.resolve(e)},function(e){n.reject(e)})},function(e){n.reject(e)}),n.promise},VERSION:"2.0.1",allPromises:t.all.bind(t)};return i}])}();